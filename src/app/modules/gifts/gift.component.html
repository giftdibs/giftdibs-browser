<div class="gd-canvas">
  <div class="gd-container">
    <div *ngIf="gift" class="gd-gift">
      <div class="gd-gift-detail gd-detail-pane">
        <gd-row>
          <gd-column
            [screenSmall]="7"
          >
            <gd-thumbnail
              class="gd-gift-thumbnail"
              size="static"
              [imageSource]="gift.imageUrl"
            ></gd-thumbnail>
          </gd-column>
          <gd-column
            [screenSmall]="5"
          >
            <h1>
              {{ gift.name }}
            </h1>

            <ng-container *ngIf="isSessionUser">
                <div class="gd-button-group">
                  <button *ngIf="!gift.isReceived"
                    class="gd-button gd-button-primary"
                    type="button"
                    [disabled]="isLoading"
                    (click)="markReceived()"
                  >
                    <gd-icon icon="check"></gd-icon>
                    Mark as received
                  </button>

                  <div *ngIf="gift.isReceived"
                    class="gd-button gd-button-primary gd-button-block gd-button-disabled"
                  >
                    <gd-icon icon="check"></gd-icon>
                    Received!
                  </div>

                  <button
                    class="gd-button gd-button-default"
                    type="button"
                    (click)="openGiftEditModal()"
                  >
                    Edit
                  </button>
                </div>
              </ng-container>

              <ng-container *ngIf="!isSessionUser">
                <gd-dib-controls
                  [gift]="gift"
                  (change)="onDibChange()"
                >
                </gd-dib-controls>
              </ng-container>

            <table class="gd-table">
              <tr>
                <th>Priority</th>
                <td>
                  <gd-gift-priority
                    [priority]="gift.priority"
                  >
                  </gd-gift-priority>
                </td>
              </tr>
              <tr>
                <th>Budget</th>
                <td>${{ gift.budget || '--' }} <span *ngIf="gift.quantity > 1">ea.</span></td>
              </tr>
              <tr>
                <th>Quantity</th>
                <td>
                  {{ gift.quantity }}
                  <span *ngIf="quantityRemaining !== undefined">({{ quantityRemaining }} available)</span>
                </td>
              </tr>
              <tr>
                <th>Updated</th>
                <td>{{ gift.dateUpdated | date }}</td>
              </tr>
            </table>

            <h2>
              Comments
            </h2>
            <gd-comment-list
              [comments]="gift.comments"
            >
            </gd-comment-list>

            <gd-comment-edit
              [giftId]="gift.id"
              (saved)="onCommentSaved()"
            >
            </gd-comment-edit>
          </gd-column>
        </gd-row>
      </div>
    </div>
  </div>
</div>

<!-- <div class="gd-gift-banner gd-container">
  <gd-media>
    <gd-media-content>
      <table class="gd-table">
        <tr>
          <th>Priority</th>
          <td>
            <gd-gift-priority
              [priority]="gift.priority"
            >
            </gd-gift-priority>
          </td>
        </tr>
        <tr>
          <th>Don't spend more than</th>
          <td>${{ gift.budget || '--' }} <span *ngIf="gift.quantity > 1">ea.</span></td>
        </tr>
        <tr>
          <th>Quantity</th>
          <td>{{ gift.quantity }}</td>
        </tr>
        <tr>
          <th>Updated</th>
          <td>{{ gift.dateUpdated | date }}</td>
        </tr>
      </table>
    </gd-media-content>
    <gd-media-thumbnail>
      <gd-thumbnail
        type="user"
        size="md"
        [imageSource]="gift.user.avatarUrl"
        [route]="{ commands: ['/users', gift.user.id] }"
      >
      </gd-thumbnail>
    </gd-media-thumbnail>
  </gd-media>

  <ng-container *ngIf="isSessionUser">
    <div class="gd-button-group">
      <button *ngIf="!gift.isReceived"
        class="gd-button gd-button-primary"
        type="button"
        [disabled]="isLoading"
        (click)="markReceived()"
      >
        <gd-icon icon="check"></gd-icon>
        Mark as received
      </button>

      <div *ngIf="gift.isReceived"
        class="gd-button gd-button-primary gd-button-block gd-button-disabled"
      >
        <gd-icon icon="check"></gd-icon>
        Received!
      </div>

      <button
        class="gd-button gd-button-default"
        type="button"
        (click)="openGiftEditModal()"
      >
        Edit gift
      </button>
    </div>
  </ng-container>

  <ng-container *ngIf="!isSessionUser">
    <gd-dib-controls
      [gift]="gift"
      (change)="onDibChange($event)"
    >
    </gd-dib-controls>
  </ng-container>
</div>
<div class="gd-wish-list-body gd-container-fluid">
</div> -->
