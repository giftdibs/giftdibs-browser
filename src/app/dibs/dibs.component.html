<h1>
  Dibs
</h1>

<div *ngIf="recipients">
  <app-card *ngFor="let recipient of recipients">
    <app-card-title>
      {{ recipient.firstName }} {{ recipient.lastName }}
    </app-card-title>
    <app-card-body *ngFor="let gift of recipient.gifts">
      <app-row>
        <app-column screenXSmall="6">
          <strong>{{ gift.name }}</strong><br>
          <a routerLink="/wish-lists/{{ gift.wishList._id }}">{{ gift.wishList.name }}</a><br>
          ${{ gift.budget }}
        </app-column>
        <app-column screenXSmall="6">
          <app-dib-edit
            [dib]="gift.dib"
            (onSuccess)="onDibEdit()">
          </app-dib-edit>
          <div *ngIf="gift.dib.dateDelivered">
            Date delivered: {{ gift.dib.dateDelivered | date }}
          </div>
        </app-column>
      </app-row>
    </app-card-body>
    <app-card-footer>
      <app-row>
        <app-column screenXSmall="9">
          Totals for {{ recipient.firstName }}:
        </app-column>
        <app-column screenXSmall="3">
          ${{ recipient.budget }}
        </app-column>
      </app-row>
    </app-card-footer>
  </app-card>
</div>
